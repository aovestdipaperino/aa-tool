# aa-tool

aatool.exe is a Windows binary tool written by Aaron Giles (https://github.com/aaronsgiles) to process the output generated by the MAME's nltool. Unfortunately no source code has been provided.
This repository is an attempt to rewrite the tool in Rust in order to make it multi-platform (so I don't have to use a Windows VM on my Mac just to plot a chart).
It supports three commands: 
   wav -- make a WAV file from one or more input logs
   map -- map one input log against another log
   plot -- plot the log file(s) on a timeline graph

From the CLI help of the original tool:
-------------------------------------------------------------
<pre>
Action: plot -- plot the log file(s) on a timeline graph
   (no specific parameters)
   -o -- name of output file (stdout if not specified)
   -w -- window of time to examine given as min-max
   -f -- force overwriting of existing output file
   -v -- verbose output

Action: plot -- plot the log file(s) on a timeline graph
   (no specific parameters)
   -o -- name of output file (stdout if not specified)
   -w -- window of time to examine given as min-max
   -f -- force overwriting of existing output file
   -v -- verbose output

Action: wav -- make a WAV from the given input(s)
   -r -- output frequency in Hz
   -n -- normalization, either a single value (+/-) or a comma-separated pair
   -o -- name of output file (stdout if not specified)
   -w -- window of time to examine given as min-max
   -f -- force overwriting of existing output file
   -v -- verbose output

Log files may be specified by full filename or just by signal name. The
following parameters can also be appended to the name in brackets:

   hz[:lo[,hi]] -- parse as frequency, using lo/hi as thresholds
   p[:lo[,hi]] -- parse as period, using lo/hi as thresholds
   hp[:lo[,hi]] -- parse as half-period, using lo/hi as thresholds
   r:lo,hi -- ignore values outside the given range

Multiple options can be provided, separated by semicolons. Examples:

   log_U13.5.log -- full filename
   U35.1 -- implies log_U35.1.log
   U35.1[hz] -- parses log as frequency using default (1,3) thresholds
   R20.2[p:0.1] -- parses log as period using 0.1 as a threshold
   C1.1[hp:2,4] -- parses log as half-period using (2,4) as thresholds
   OUTPUT[hz;r:2000] -- parses log as frequency, ignoring values above 2000Hz
</pre>   
-------------------------------------------------------------

Current implementation offers only the plot and wav command without the fancy stuff (yet).
